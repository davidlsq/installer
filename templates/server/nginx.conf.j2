user             www-data;
worker_processes auto;
pid              /run/nginx.pid;
include          /etc/nginx/modules-enabled/*.conf;

events {
  worker_connections 1024;
}

http {
  server {
      server_name {{ private_domain }};
      listen      80;
      listen      [::]:80;

      location /qbittorrent/ {
        client_max_body_size 16M;
        proxy_pass http://127.0.0.1:{{ qbittorrent_port }}/;
        proxy_set_header Host $proxy_host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Host $host;
        proxy_set_header X-Forwarded-Proto $scheme;
      }
  }
}
